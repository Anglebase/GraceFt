# 代码风格规范

## C++
### 命名规则
 - 局部变量名：全部小写，单词之间用下划线分隔，如：`int my_variable;`
 - 全局变量名：不允许定义，若需要应以类进行包装，参考 GraceFt 中`BlockFoucsManager`的实现
 - 类名：以大驼峰命名法命名，如：`class MyClass;`
 - 成员变量名：小驼峰命名法命名，后随一个下划线，如：`int myVariable_;`
 - 成员函数名：小驼峰命名法命名，如：`void myFunction();`
 - 枚举名：与类名相同
 - 宏定义：全部大写，单词之间用下划线分隔，如：`#define MY_MACRO`
 - 命名空间名：不应超过4个字母，大小写无要求
 - 文件名：若存储类则应与类名相同，否则应与类名或功能相关联，如：`MyClass.cpp`
 - 普通函数名：小驼峰命名法命名，如：`void myFunction();`

### 代码格式
 - 缩进：使用4个空格进行缩进
 - 行宽：每行不超过80个字符
 - 空行：不应存在超过1行的连续空行

### 注释
 - 对于类、函数、枚举应以`///`添加Doxygen风格的注释，并在注释中详细描述函数功能、参数、返回值等信息
 - 对于非Doxygen注释，应使用`//`进行单行注释，`/* */`进行多行注释
 - 对于复杂的算法或逻辑，应添加注释进行描述，并在注释中注明算法步骤

### 函数实现
 - 函数实现应尽量精简，避免过长的函数，应将复杂的逻辑拆分成多个函数
 - 如果函数只有一行，则将函数体放在同一行，如：`int add(int a, int b) { return a + b; }`
 - 单个函数不应超过50行，过长的函数应拆分成多个函数
 - 函数的错误机制应避免使用错误码，而应使用异常机制
 - 函数的参数应尽量少，最好只包含必要的参数
 - 允许函数返回元组以支持结构化绑定

### 类实现
 - 类的代码实现由上到下应依次为`private`成员、`protected`成员、`public`成员，每部分以一个空行分隔
 - 类中尽可能不含有`private`标识符，而是用`class`默认的访问控制权限控制成员的可见性
 - 凡是以`struct`声明的类(结构体)，必须允许以指派符声明的列表初始化

### 头文件
 - 头文件应仅以`#pragma once`的方式进行一次性包含，避免重复包含
 - 对于存储模板的头文件应以`.hpp`作为后缀名
 - 内部实现的头文件应以`.inl`作为后缀名
